---
- name: Bootstrap development environment
  hosts: localhost
  vars:
    git_dir: "{{ ansible_env.HOME }}/git"
    dotfiles_dir: "{{ git_dir }}/dotfiles"
    source_key: "{{ dotfiles_dir }}/ssh/id_ed25519"
    dest_key: "{{ ansible_env.HOME }}/.ssh/id_ed25519"

  tasks:
    - name: Install lazygit
      import_tasks: tasks/git/main.yml

    # - name: Install packages with apt (headless)
    #   become: yes
    #   apt:
    #     name:
    #       - git
    #       - tmux
    #       - unzip
    #       - wget
    #     state: latest
    #   when: ansible_distribution == "Ubuntu"

    # - name: Install packages with apt
    #   tags: gui
    #   become: yes
    #   apt:
    #     name:
    #       - wezterm
    #     state: latest
    #   when: ansible_distribution == "Ubuntu"

    # - name: Install neovim
    #   import_tasks: tasks/nvim/main.yml

    # - name: Install i3wm
    #   tags: gui
    #   import_tasks: tasks/i3wm.yml
    #   when: ansible_distribution == "Ubuntu"
    # - name: Create ~/git directory
    #   file:
    #     path: "{{ git_dir }}"
    #     state: directory
    #     mode: 0755
